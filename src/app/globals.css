@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 40 50% 98%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 22 92% 54%;
    --primary-foreground: 0 0% 100%;
    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 22 92% 54%;
    --accent-foreground: 0 0% 100%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 22 92% 54%;
    --chart-1: 22 92% 54%;
    --chart-2: 340 82% 61%;
    --chart-3: 142 71% 45%;
    --chart-4: 262 82% 61%;
    --chart-5: 27 87% 67%;
    --radius: 0.5rem;
    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 210 40% 98%;
    --sidebar-primary: 22 92% 54%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 217.2 32.6% 17.5%;
    --sidebar-accent-foreground: 210 40% 98%;
    --sidebar-border: 217.2 32.6% 17.5%;
    --sidebar-ring: 22 92% 54%;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    --primary: 22 92% 54%;
    --primary-foreground: 0 0% 100%;
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 22 92% 54%;
    --accent-foreground: 0 0% 100%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 22 92% 54%;
    --chart-1: 22 92% 54%;
    --chart-2: 340 82% 61%;
    --chart-3: 142 71% 45%;
    --chart-4: 262 82% 61%;
    --chart-5: 27 87% 77%;
    --sidebar-background: 222.2 84% 6.9%;
    --sidebar-foreground: 210 40% 98%;
    --sidebar-primary: 22 92% 54%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 217.2 32.6% 17.5%;
    --sidebar-accent-foreground: 22 92% 54%;
    --sidebar-border: 217.2 32.6% 17.5%;
    --sidebar-ring: 22 92% 54%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
  }
}

/* Mobile Safe Areas - Prevents content from being hidden by notch/navigation */
@supports (padding: env(safe-area-inset-top)) {
  body {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }
}

/* Ensure minimum padding on mobile */
@media (max-width: 768px) {
  body {
    padding-bottom: max(env(safe-area-inset-bottom, 0px), 20px);
  }

  /* Reduce base font size more aggressively */
  html {
    font-size: 13px !important;
  }

  /* Compact headings */
  h1 {
    font-size: 1.3rem !important;
    line-height: 1.3 !important;
  }

  h2 {
    font-size: 1.15rem !important;
    line-height: 1.3 !important;
  }

  h3 {
    font-size: 1rem !important;
    line-height: 1.3 !important;
  }

  /* Make navigation icons larger and more visible */
  nav button,
  nav a,
  [role="navigation"] button {
    min-width: 44px !important;
    min-height: 44px !important;
  }

  /* Hamburger menu icon - make it larger */
  nav svg,
  [role="navigation"] svg {
    width: 28px !important;
    height: 28px !important;
  }

  /* Profile icon - ensure visibility */
  [class*="avatar"],
  [class*="profile"] {
    width: 36px !important;
    height: 36px !important;
    min-width: 36px !important;
    min-height: 36px !important;
  }

  /* Reduce padding and spacing */
  .container {
    padding-left: 0.5rem !important;
    padding-right: 0.5rem !important;
  }

  /* Compact cards */
  [class*="card"] {
    padding: 0.5rem !important;
  }

  /* Smaller buttons but maintain touch target */
  button:not(nav button):not([role="navigation"] button),
  [role="button"]:not(nav [role="button"]):not([role="navigation"] [role="button"]) {
    padding: 0.4rem 0.6rem !important;
    font-size: 0.85rem !important;
    min-height: 36px !important;
  }

  /* Compact inputs */
  input,
  select,
  textarea {
    padding: 0.4rem !important;
    font-size: 0.85rem !important;
  }

  /* Reduce spacing between elements */
  [class*="space-y-8"]>*+* {
    margin-top: 1rem !important;
  }

  [class*="space-y-6"]>*+* {
    margin-top: 0.75rem !important;
  }

  [class*="space-y-4"]>*+* {
    margin-top: 0.5rem !important;
  }

  [class*="gap-8"] {
    gap: 1rem !important;
  }

  [class*="gap-6"] {
    gap: 0.75rem !important;
  }

  [class*="gap-4"] {
    gap: 0.5rem !important;
  }

  /* Reduce padding classes */
  [class*="p-8"] {
    padding: 1rem !important;
  }

  [class*="p-6"] {
    padding: 0.75rem !important;
  }

  [class*="p-4"] {
    padding: 0.5rem !important;
  }

  [class*="py-8"] {
    padding-top: 1rem !important;
    padding-bottom: 1rem !important;
  }

  [class*="py-6"] {
    padding-top: 0.75rem !important;
    padding-bottom: 0.75rem !important;
  }

  /* Reduce gap sizes */
  .gap-6 {
    gap: 1rem !important;
  }

  /* Compact page headers */
  [class*="page-header"],
  header {
    padding: 12px 16px !important;
    padding-top: max(env(safe-area-inset-top), 12px) !important;
  }

  /* Reduce alert/banner padding */
  [role="alert"],
  [class*="banner"] {
    padding: 10px 12px !important;
    font-size: 0.85rem !important;
  }

  /* Compact badges */
  [class*="badge"] {
    padding: 2px 8px !important;
    font-size: 0.75rem !important;
  }

  /* Reduce navigation icon sizes */
  nav svg,
  [role="navigation"] svg {
    width: 20px !important;
    height: 20px !important;
  }

  /* Compact progress bars */
  [role="progressbar"] {
    height: 6px !important;
  }

  /* Reduce modal/dialog padding */
  [role="dialog"]>div {
    padding: 16px !important;
  }

  /* Compact accordion items */
  [data-radix-accordion-item] {
    padding: 10px !important;
  }

  /* Make hamburger menu more accessible */
  [data-sidebar="trigger"] {
    min-width: 44px !important;
    min-height: 44px !important;
    padding: 12px !important;
  }

  /* Ensure dropdowns don't auto-open */
  [role="menu"],
  [role="listbox"] {
    pointer-events: auto !important;
  }

  /* Increase spacing in dropdown menus */
  [role="menuitem"],
  [role="option"] {
    padding: 12px 16px !important;
    min-height: 48px !important;
  }

  /* Force Sheet content (mobile sidebar) to use flex column */
  [data-mobile="true"]>div {
    display: flex !important;
    flex-direction: column !important;
    height: 100% !important;
  }

  /* Ensure sidebar content has flex-1 to push footer down */
  [data-mobile="true"] [data-sidebar="content"] {
    flex: 1 !important;
    overflow-y: auto !important;
  }
}